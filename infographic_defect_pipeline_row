// Infographic Defect Detection Pipeline
digraph {
	graph [rankdir=LR]
	A [label="ğŸ—„ï¸ Data Loading
(MVTecDataset)
train/test split" fillcolor=lightblue style=filled]
	B [label="ğŸ–¼ï¸ Data Preprocessing
Resize, Normalize, ToTensor" fillcolor=lightblue style=filled]
	C [label="âš™ï¸ Model Definition
Autoencoder
(encoder + decoder)" fillcolor=plum style=filled]
	D [label="âš™ï¸ Training Loop
- Loss: MSE + (1 - SSIM)
- Optimizer: Adam
- Compute AUROC" fillcolor=plum style=filled]
	H [label="â˜ï¸ FastAPI Deployment
- Load ONNX
- /detect endpoint
- Drift Detection
- Returns defect prediction" fillcolor=plum style=filled]
	E [label="ğŸ“¦ Save Best Model
(autoencoder_best.pth)" fillcolor=lightpink style=filled]
	F [label="ğŸ“¦ Compute Threshold
(threshold.npy)" fillcolor=lightpink style=filled]
	G [label="ğŸ“¦ Export ONNX Model
(autoencoder.onnx)" fillcolor=lightpink style=filled]
	A -> B
	B -> C
	C -> D
	D -> E
	E -> F
	F -> G
	G -> H
	I [label="Legend:
ğŸ—„ï¸ Blue: Data
âš™ï¸ Purple: Code/Model
ğŸ“¦ Pink: Artifacts
â˜ï¸ Purple: Deployment" shape=note]
	A -> I [style=dashed]
}
